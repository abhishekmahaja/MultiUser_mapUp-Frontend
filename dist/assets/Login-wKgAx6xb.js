import{r as d,j as e}from"./react-BEjMjN8G.js";import{P as v,s as b,a as C}from"./index-Cu_Ucmoy.js";import{a as S}from"./react-redux-BCzlrtQJ.js";import{L as p}from"./react-router-dom-CdDO6LQr.js";import{G as t,j as I,C as D,T as i,A as P,k as u,l as A,I as L,m as W,V as z,n as N,b as T}from"./@mui-Cxlh-61e.js";import{B as o}from"./react-toastify-jL36amYw.js";import{a as k}from"./react-router-DNCBPsEY.js";import"./@babel-BE2LeGo5.js";import"./react-dom-UOU5xRcb.js";import"./scheduler-CzFDRTuY.js";import"./react-otp-input-CPsintEO.js";import"./axios-DzWr6d29.js";import"./@reduxjs-DYPsSoVN.js";import"./redux-DITMfSWq.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./redux-persist-CW-G7xl2.js";import"./clsx-B-dksMZM.js";import"./@emotion-DFtIIxQb.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-FDnFs_-n.js";import"./react-is-DcfIKM1A.js";import"./react-transition-group-CMj4CyiH.js";import"./@remix-run-BOUEh3jQ.js";import"./use-sync-external-store-CL43r71C.js";function oe(){const[r,x]=d.useState({username:"",password:""}),[a,g]=d.useState(!1),h=S(),f=k(),j=()=>{g(s=>!s)},y=s=>{s.preventDefault()},l=s=>{x(n=>{var m,c;return{...n,[(m=s.target)==null?void 0:m.name]:(c=s.target)==null?void 0:c.value}})},w=async s=>{s.preventDefault();try{(await b(r)).success?(h(C({username:r.username,password:r.password})),o.success("OTP sent successfully!"),f("/otp")):o.error("Invalid username or password.")}catch(n){console.error(n),o.error("Login failed.")}};return e.jsx(v,{className:"login-form-bg-image",showfooter:"true",showheader:"true",display:"flex",justifyContent:"start",alignContent:"center",children:e.jsx(t,{item:!0,display:"flex",alignItems:"center",padding:"5%",children:e.jsx(I,{sx:{flexWrap:"wrap"},children:e.jsxs(D,{orientation:"vertical",children:[e.jsxs(t,{item:!0,sx:{textAlign:"center"},md:12,sm:12,xs:12,children:[e.jsx(i,{pt:2,fontSize:"xx-large",children:"Welcome"}),e.jsx(i,{fontSize:"medium",color:"#800000",children:"Real Time Well Monitoring System"})]}),e.jsx(t,{item:!0,alignItems:"center",children:e.jsxs("form",{onSubmit:w,children:[e.jsxs(t,{container:!0,padding:"5%",spacing:2,children:[e.jsxs(t,{item:!0,sx:{display:"flex",alignItems:"flex-end"},md:12,sm:12,lg:12,xs:12,children:[e.jsx(P,{sx:{color:"action.active",mr:1},fontSize:"large"}),e.jsx(u,{className:"custom-textfield",label:"Username",name:"username",variant:"standard",value:r==null?void 0:r.username,onChange:l,fullWidth:!0})]}),e.jsxs(t,{item:!0,sx:{display:"flex",alignItems:"flex-end"},md:12,sm:12,lg:12,xs:12,mt:"5%",children:[e.jsx(A,{sx:{color:"action.active",mr:1},fontSize:"large"}),e.jsx(u,{className:"custom-textfield",variant:"standard",name:"password",type:a?"text":"password",label:"Password",value:r.password,onChange:l,fullWidth:!0,InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(W,{onClick:j,onMouseDown:y,edge:"end",children:a?e.jsx(z,{}):e.jsx(N,{})})})}})]})]}),e.jsxs(t,{container:!0,padding:5,spacing:2,direction:"column",py:2,children:[e.jsx(t,{item:!0,textAlign:"end",children:e.jsx(p,{to:"/forgot",style:{textDecoration:"none",cursor:"pointer"},children:"Forgot Password"})}),e.jsx(t,{item:!0,children:e.jsx(T,{variant:"contained",className:"btn-primary",fullWidth:!0,type:"submit",children:"Login"})}),e.jsx(t,{item:!0,textAlign:"center",children:e.jsxs(i,{fontSize:"small",children:["Don't have an account?",e.jsx(p,{to:"/signup",style:{textDecoration:"none",margin:"4px",cursor:"pointer"},children:"Sign Up"})]})})]})]})})]})})})})}export{oe as default};
